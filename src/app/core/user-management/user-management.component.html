<div class="container py-5">
    <h1 class="text-center">User Management</h1>
    <div class="row py-3">
        <div class="col-12">
            <button [disabled]="!(selectedUsers().length > 0)" type="button" class="btn btn-danger"
                (click)="blockUsers()">Block</button>
            &nbsp;
            <button type="button" [disabled]="!(selectedUsers().length > 0)" class="btn btn-dark"
                (click)="unblockUsers()">Unblock <i class="fa-solid fa-unlock"></i></button>
            &nbsp;
            <button type="button" [disabled]="!(selectedUsers().length > 0)" class="btn btn-warning"
                (click)="deleteUsers()">Delete <i class="fa-solid fa-trash"></i></button>

        </div>

        <div class="row py-3">
            <div class="col-12 table-responsive">
                <table class="table  align-middle table-striped table-bordered">
                    <thead class="table-secondary">
                        <tr>
                            <th scope="col">
                                <input type="checkbox" class="form-check-input" id="exampleCheck1"
                                    [(ngModel)]="selectAllCheckbox" (click)="selectAll()">
                            </th>
                            <th scope="col">Name</th>
                            <th scope="col">Email</th>
                            <th scope="col">last login time</th>
                            <th scope="col">registration time</th>
                            <th scope="col">status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let user of users">
                            <th scope="row">
                                <input type="checkbox" class="form-check-input" id="exampleCheck1"
                                    [(ngModel)]="user.selected" (change)="selectedUser(user)">
                            </th>
                            <td>{{user.name}}</td>
                            <td>{{user.email}}</td>
                            <td>{{user.date | date:'medium'}}</td>
                            <td>{{user.last_login | date:'medium'}}</td>
                            <td>
                                <span *ngIf="user.is_blocked == false">Active</span>
                                <span *ngIf="user.is_blocked == true">Blocked</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>